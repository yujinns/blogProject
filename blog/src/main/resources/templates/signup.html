<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>회원가입</title>
</head>
<body>
<h2>SignUp페이지</h2>
<form th:action="@{/signup}" method="post" id="signupForm">
    <label for="id">아이디:</label>
    <input type="text" id="id" name="id" required><br>
    <label for="password">비밀번호:</label>
    <input type="password" id="password" name="password" required pattern="^(?=.*[a-zA-Z])(?=.*[0-9])(?=.*[!@#$%^&*])[A-Za-z0-9!@#$%^&*]{10,}$"><br>
    <small>비밀번호는 특수문자,문자,숫자를 하나씩 포함하고 10자를 넘어야 합니다.</small><br>
    <label for="passwordConfirm">비밀번호 확인:</label>
    <input type="password" id="passwordConfirm" name="passwordConfirm" required><br>
    <span id="passwordMatchError" style="color: red;"></span><br>
    <label for="nickname">닉네임:</label>
    <input type="text" id="nickname" name="nickname"><br>
    <label for="email">이메일:</label>
    <input type="email" id="email" name="email"><br>
    <button type="submit">회원가입</button>
</form>

<script>
    const passwordInput = document.getElementById('password');
    const passwordConfirmInput = document.getElementById('passwordConfirm');
    const passwordMatchError = document.getElementById('passwordMatchError');

    document.getElementById('signupForm').addEventListener('submit', function (event) {
        if (passwordInput.value !== passwordConfirmInput.value) {
            event.preventDefault();
            passwordMatchError.textContent = '비밀번호를 다시 확인하세요.';
        }
    });

    passwordInput.addEventListener('input', function() {
        passwordMatchError.textContent = ''
    });
</script>
</body>
</html>